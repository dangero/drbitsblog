---
layout: post
title: Building Bitcoin Core with XCode
date: '2014-09-03T23:41:00.000-07:00'
author: Dan Rice
tags: 
modified_time: '2014-09-03T23:41:14.308-07:00'
thumbnail: http://1.bp.blogspot.com/-577BTHhJ_7Q/VAgBn4f5sQI/AAAAAAAAAEY/8gh0aKaH-DI/s72-c/Screen%2BShot%2B2014-09-03%2Bat%2B11.02.05%2BPM.png
blogger_id: tag:blogger.com,1999:blog-8763310650201890558.post-450784196909270639
blogger_orig_url: http://www.drbits.org/2014/09/building-bitcoin-core-with-xcode.html
---

For this walkthrough I'll be using Bitcoin Core version 0.9.3, XCode 5.1.1 with the command line tools package installed, and Homebrew (<a href="http://brew.sh/">http://brew.sh/</a>).<br /><br />1. Download the source code:<br /><pre class="prettyprint">git clone git@github.com:bitcoin/bitcoin.git bitcoin</pre><br />2. &nbsp;Install dependencies:<br /><pre class="prettyprint">brew install autoconf automake libtool berkeley-db4 boost miniupnpc openssl pkg-config protobuf qt</pre><br />3. After dependencies are installed, you need to make sure you have the correct version of openssl:<br /><pre class="prettyprint">openssl version</pre>You should see OpenSSL 1.0.1h 5 Jun 2014. If you do not then, you need to ask Brew to force create the proper links:<br /><pre class="prettyprint">brew link openssl --force</pre><br />4. Build bitcoind:<br /><pre class="prettyprint">./autogen.sh<br />./configure<br />make</pre><br />If you encounter an error about not being able to find Boost System like I did, try force linking boost as well:<br /><pre class="prettyprint">brew link boost --force</pre><br />5. Verify that you can run bitcoind:<br /><pre class="prettyprint">cd src<br />./bitcoind</pre><br />6. You will probably see an error about your bitcoin.conf file. Follow the given instructions to setup your bitcoin.conf file in the appropriate place. If you want to use Bitcoin testnet which is a good idea for development, make sure to enable that option in the bitcoin.conf file.<br /><br />7. Create a new project in XCode. When it asks for the type, you can just select "Empty".<br /><br />8. Add a target named bitcoind in XCode (Editor-&gt;Add Target). When it asks for a Template select "Other-&gt;External Build System". We do this because Bitcoin Core uses Makefiles. We could instead setup the build using XCode's build settings, but that would be pretty pointless from my perspective because Makefiles work just fine, and since Bitcoin Core uses the Makefile system, everything is auto configured for us. If you were to contribute to Bitcoin Core you would also need to use their Makefile system to make sure your changes work under those conditions.<br /><br />9. Go to the new target settings and enter the path to your cloned Bitcoin Core code folder:<br /><div class="separator" style="clear: both; text-align: center;"></div><div class="separator" style="clear: both; text-align: center;"></div><div class="separator" style="clear: both; text-align: center;">{% include image name="externalbuildtool.png"%}</div><div class="separator" style="clear: both; text-align: center;"><br /></div><div class="separator" style="clear: both; text-align: left;">9. Try building. You should be able to build, but not run.</div><div class="separator" style="clear: both; text-align: left;"><br /></div><div class="separator" style="clear: both; text-align: left;">10. Edit the scheme to add the run executable:</div><div class="separator" style="clear: both; text-align: center;">{% include image name="runsettings.png"%}</div><div class="separator" style="clear: both; text-align: center;"><br /></div><div class="separator" style="clear: both; text-align: left;">11. Add the entire Bitcoin Core src folder into the project file list (Right click on the project click "Add Files").</div><div class="separator" style="clear: both; text-align: left;"><br /></div><div class="separator" style="clear: both; text-align: left;">12. Create a breakpoint to see if you can stop on it when you run the application. I made one in bitcoind.cpp just under the start of the main function:</div><div class="separator" style="clear: both; text-align: center;">{% include image name="breakpoint.png"%}</div><div class="separator" style="clear: both; text-align: left;"><br /></div><div class="separator" style="clear: both; text-align: left;">13. Try running the application. In my case it did not stop on the breakpoint.</div><div class="separator" style="clear: both; text-align: left;"><br /></div><div class="separator" style="clear: both; text-align: left;">14. In the scheme options add a custom working directory. It should point to the src folder of the Bitcoin Core source code. This is the same folder that contains bitcoind:</div><div class="separator" style="clear: both; text-align: center;">{% include image name="specialsettings.png"%}</div><div class="separator" style="clear: both; text-align: left;"><br /></div><div class="separator" style="clear: both; text-align: left;">15. Save your project, close XCode and reopen it. I don't know why, but for me it didn't work till I did this.</div><div class="separator" style="clear: both; text-align: left;"><br /></div><div class="separator" style="clear: both; text-align: left;">16. Run and hopefully now it hits the breakpoint. You're in!</div><div class="separator" style="clear: both; text-align: left;"><br /></div><div class="separator" style="clear: both; text-align: left;">**Special thanks to Gavin Andresen for writing up <a href="https://github.com/gavinandresen/bitcoin-git/blob/master/doc/build-osx.md">command line instructions</a> which were referenced in writing this**</div><div class="separator" style="clear: both; text-align: left;"><br /></div>